<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Libre's Blog</title><link>https://www.libre.fun/</link><description>Recent content on Libre's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-hans</language><copyright>Libre. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</copyright><atom:link href="https://www.libre.fun/index.xml" rel="self" type="application/rss+xml"/><item><title>WSL çš„å®‰è£…å’Œä¸€äº› Troubleshooting</title><link>https://www.libre.fun/posts/install-wsl-and-troubleshooting/</link><pubDate>Tue, 29 Oct 2019 12:50:09 +0800</pubDate><guid>https://www.libre.fun/posts/install-wsl-and-troubleshooting/</guid><description>Libre's Blog https://www.libre.fun/posts/install-wsl-and-troubleshooting/ -&lt;h2 id="ä»€ä¹ˆæ˜¯wsl">ä»€ä¹ˆæ˜¯WSL&lt;/h2>
&lt;p>WSLä¸­æ–‡å…¨ç§°ä¸ºã€Œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿã€ï¼ˆWindows Subsystem for Linuxï¼‰ï¼Œæ˜¯ä¸€ä¸ªä¸ºåœ¨Windows 10å’ŒWindows Server 2019ä¸Šèƒ½å¤ŸåŸç”Ÿè¿è¡ŒLinuxäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆELFæ ¼å¼ï¼‰çš„å…¼å®¹å±‚ã€‚&lt;/p>
&lt;p>WSLç›¸æ¯”äºVMwareç­‰è™šæ‹Ÿæœºè§£å†³æ–¹æ¡ˆæ›´åŠ è½»é‡ï¼Œå¯åŠ¨é€Ÿåº¦æ›´å¿«ï¼Œä½†ä»£ä»·æ˜¯é˜‰å‰²äº†ä¸€äº›Linuxç³»ç»Ÿçš„åŠŸèƒ½ï¼Œä¾‹å¦‚&lt;code>systemd&lt;/code>ã€Ubuntuä¸­çš„&lt;code>snapd&lt;/code>ç­‰ï¼ˆæˆªæ­¢æœ¬æ–‡å†™ä½œæ—¶ï¼‰ã€‚ä½†æ˜¯å¯¹äºä¸€èˆ¬Linuxç”¨æˆ·çš„ä½¿ç”¨æ˜¯è¶³å¤Ÿçš„ã€‚&lt;/p>
&lt;h2 id="wslçš„å¯ç”¨">WSLçš„å¯ç”¨&lt;/h2>
&lt;p>åœ¨é»˜è®¤è®¾ç½®ä¸‹ï¼ŒWSLæ˜¯è¢«å…³é—­çš„ï¼Œå› æ­¤ï¼Œé¦–å…ˆéœ€è¦åœ¨ç³»ç»Ÿä¸­å¼€å¯WSLï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š&lt;/p>
&lt;h3 id="é€šè¿‡å›¾å½¢ç•Œé¢å¯ç”¨wsl">é€šè¿‡å›¾å½¢ç•Œé¢å¯ç”¨WSL&lt;/h3>
&lt;p>Windowsã€Œè®¾ç½®ã€â¡ã€Œåº”ç”¨ã€â¡å³ä¾§ã€Œç¨‹åºå’ŒåŠŸèƒ½ã€â¡ã€Œå¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½ã€â¡å‹¾é€‰ã€Œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿã€&lt;/p>
&lt;p>ç¡®å®šä¹‹åé‡å¯ç³»ç»Ÿã€‚&lt;/p>
&lt;h3 id="é€šè¿‡å‘½ä»¤è¡Œå¯ç”¨wsl">é€šè¿‡å‘½ä»¤è¡Œå¯ç”¨WSL&lt;/h3>
&lt;p>å¼€å§‹èœå•æŒ‰é’®å•å‡»å³é”®â¡ã€ŒWindows Powershell ï¼ˆç®¡ç†å‘˜ï¼‰ã€ï¼Œæ‰“å¼€Powershellåè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¼€å§‹ä¸‹è½½ç›¸å…³æ•°æ®ï¼Œä¸‹è½½å®Œæˆåè¾“å…¥ã€Œyesã€é‡å¯ç³»ç»Ÿã€‚&lt;/p>
&lt;h2 id="wslçš„å®‰è£…">WSLçš„å®‰è£…&lt;/h2>
&lt;p>åœ¨Windowsä¸­å¯ç”¨WSLä¹‹åï¼Œå°±å¯ä»¥å®‰è£…ä½ æƒ³ä½¿ç”¨çš„Linuxå‘è¡Œç‰ˆäº†ï¼Œç„¶è€Œï¼Œè¿™ä¹Ÿè¦å®˜æ–¹æä¾›äº†ç›¸åº”çš„å®‰è£…åŒ…æ‰è¡Œã€‚&lt;/p>
&lt;p>å®‰è£…WSLåŒæ ·æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡Microsoft Storeå®‰è£…ï¼Œå¦ä¸€ç§æ˜¯ä¸‹è½½ç›¸åº”çš„åº”ç”¨åŒ…ä¹‹åæ‰‹åŠ¨å®‰è£…ã€‚é‰´äºMicrosoft Storeåœ¨ç½‘ç»œæ–¹é¢çš„è¡¨ç°éå¸¸ä¸ç¨³å®šï¼Œæ¨èæ‰‹åŠ¨å®‰è£…ã€‚&lt;/p>
&lt;h3 id="æ‰‹åŠ¨å®‰è£…">æ‰‹åŠ¨å®‰è£…ğŸ‘&lt;/h3>
&lt;p>å› ä¸ºä¸€äº›å…¶ä»–çš„åŸå› ï¼Œæˆ‘ä¹‹å‰å°±å¸è½½äº†Microsoft Storeï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©æ‰‹åŠ¨å®‰è£…ã€‚æ ¹æ®&lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install-manual">å®˜æ–¹æ–‡æ¡£&lt;/a>ï¼Œé¦–å…ˆä¸‹è½½Ubuntu 18.04çš„AppxåŒ…ï¼Œæ–¹ä¾¿èµ·è§ï¼Œå°†å…¶é‡å‘½åä¸º&lt;code>ubuntu18.04.Appx&lt;/code>ï¼š&lt;/p>
&lt;figure>
&lt;img src="https://image-hosting-1251771285.cos.ap-guangzhou.myqcloud.com/20191029132023.png"/>
&lt;/figure>
&lt;p>å‡è®¾ä¸‹è½½å¥½çš„åŒ…ä½äº&lt;code>D:\Download&lt;/code>æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰“å¼€Powershellï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯å®‰è£…ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">cd D:\Download
Add-AppxPackage .\ubuntu18.04.Appx
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="é€šè¿‡microsoft-storeå®‰è£…">é€šè¿‡Microsoft Storeå®‰è£…ğŸ‘&lt;/h3>
&lt;p>è¿›å…¥Microsoft Storeï¼Œæœç´¢ã€ŒLinuxã€ï¼Œä¼šå‡ºç°å®˜æ–¹æä¾›çš„å®‰è£…åŒ…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆç”µè„‘ä¸Šå¸è½½äº†Microsoft Storeï¼Œæ‰€ä»¥ç”¨ç½‘é¡µç‰ˆçš„æˆªå›¾ä»£æ›¿ä¸€ä¸‹ï¼‰ï¼š&lt;/p>
&lt;figure>
&lt;img src="https://image-hosting-1251771285.cos.ap-guangzhou.myqcloud.com/20191029131346.png"/>
&lt;/figure>
&lt;p>é€‰æ‹©ä½ æƒ³è¦çš„ç‰ˆæœ¬è¿›è¡Œå®‰è£…ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©äº†Ubuntu 18.04 LTSã€‚&lt;/p>
&lt;h2 id="wslçš„è¿è¡Œ">WSLçš„è¿è¡Œ&lt;/h2>
&lt;p>å®‰è£…å¥½ä¹‹åå°±å¯ä»¥è¿›å…¥ç³»ç»Ÿäº†ï¼ŒåŒæ ·åœ°ï¼Œå¯ä»¥é€šè¿‡åœ¨CMDæˆ–åˆ™Powershellè¾“å…¥&lt;code>ubuntu1804.exe&lt;/code>ç›´æ¥åœ¨å½“å‰çª—å£è¿›å…¥WSL Ubuntuï¼Œä¹Ÿå¯ä»¥åœ¨å¼€å§‹èœå•ä¸­æ‰¾åˆ°æ–°æ·»åŠ çš„&lt;code>Ubuntu 18.04&lt;/code>æ‰“å¼€ã€‚&lt;/p>
&lt;p>å®‰è£…ä¹‹ååˆæ¬¡è¿è¡Œéœ€è¦ä¸€äº›åˆå§‹åŒ–çš„æ—¶é—´ï¼Œéœ€è¦ç­‰å¾…ä¸€ä¸‹ã€‚WSLé»˜è®¤æœ‰ä¸€ä¸ª&lt;code>root&lt;/code>ç”¨æˆ·ï¼Œä½†åˆæ¬¡è¿è¡Œé€šå¸¸ä¼šè¦æ±‚ä½ æ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·ï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç å³å¯ï¼Œè¯¥ç”¨æˆ·ä¼šè¢«è‡ªåŠ¨æˆä¸º&lt;code>sudoer&lt;/code>ã€‚å¦‚é‡åˆ°æç¤ºã€ŒPermission Deniedã€æˆ–éœ€è¦ä»¥&lt;code>root&lt;/code>èº«ä»½è¿è¡ŒæŸäº›å‘½ä»¤æ—¶ï¼Œåœ¨å‘½ä»¤å‰åŠ ä¸Š&lt;code>sudo&lt;/code>å³å¯ã€‚&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;h3 id="wslå¦‚ä½•é‡å¯">WSLå¦‚ä½•é‡å¯&lt;/h3>
&lt;blockquote>
&lt;p>å‚è€ƒï¼š&lt;a href="https://superuser.com/questions/1126721/rebooting-ubuntu-on-windows-without-rebooting-windows">Rebooting Ubuntu on Windows without rebooting Windows?&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>å¦‚æœä½ åœ¨WSLä¸­æ‰§è¡Œäº†ç±»ä¼¼&lt;code>apt upgrade&lt;/code>çš„å‘½ä»¤ï¼Œå¯èƒ½ä¼šæç¤ºä½ éœ€è¦é‡å¯WSLç³»ç»Ÿã€‚ç„¶è€Œï¼Œå¦‚æœä½ æƒ³åƒæ­£å¸¸çš„Linuxé‚£æ ·æ‰§è¡Œ&lt;code>reboot&lt;/code>å‘½ä»¤ï¼Œä¼šæç¤ºæ— æ³•æ‰§è¡Œã€‚ä¸‹é¢çš„Powershellï¼ˆç®¡ç†å‘˜ï¼‰å‘½ä»¤å¯ä»¥åœ¨ä¸é‡å¯Windowsç³»ç»Ÿçš„æƒ…å†µä¸‹é‡å¯WSLï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">Restart-Service LxssManager
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ–è€…CMDï¼ˆç®¡ç†å‘˜ï¼‰å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">net stop LxssManager
net start LxssManager
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœä½ çš„Windowsç‰ˆæœ¬å¤§äºç­‰äºBuild 18917ï¼Œè¿˜æœ‰æ›´æ–¹ä¾¿çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">wsl --shutdown
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªWSLå‘è¡Œç‰ˆï¼Œä½ åªæƒ³é‡å¯å…¶ä¸­ä¸€ä¸ªçš„è¯ï¼ˆéœ€è¦Windows 1903+ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">wsl -t &amp;lt;DistroName&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åœ¨windowsä¸­é€šè¿‡xshellç­‰sshå·¥å…·æ— æ³•è¿æ¥åˆ°wsl">åœ¨Windowsä¸­é€šè¿‡XShellç­‰SSHå·¥å…·æ— æ³•è¿æ¥åˆ°WSL&lt;/h3>
&lt;p>è¦ä½¿ç”¨XShellï¼ˆå…¶ä»–SSHå·¥å…·å‡å¯ï¼Œä¸»è¦è®¨è®ºçš„æ˜¯WSLç«¯çš„é…ç½®ï¼‰SSHæ­£ç¡®è¿æ¥åˆ°WSLï¼Œä»¥ä¸‹å‡ ä¸ªæ–¹é¢éƒ½éœ€è¦ç¡®è®¤ï¼Œé‡åˆ°åŒæ ·é—®é¢˜çš„æœ‹å‹å¯ä»¥é€æ­¥æ’æŸ¥ï¼š&lt;/p>
&lt;h4 id="ç¡®è®¤wslå·²ç»å¯åŠ¨">ç¡®è®¤WSLå·²ç»å¯åŠ¨&lt;/h4>
&lt;p>åœ¨Windowsä¸­å¯åŠ¨è¿‡ä¸€æ¬¡WSLä¹‹åï¼Œåœ¨ä¸‹æ¬¡é‡å¯Windowsç³»ç»Ÿä¹‹å‰ï¼ŒWSLéƒ½ä¼šä¸€ç›´åœ¨åå°è¿è¡Œã€‚ä½†æ˜¯ä¸€æ—¦é‡å¯äº†Windowsç³»ç»Ÿï¼Œå°±å¿…é¡»å…ˆå¯åŠ¨WSLã€‚&lt;/p>
&lt;p>å¦‚æœæƒ³è¦WSLéšWindowsä¸€èµ·å¯åŠ¨ï¼Œå¯ä»¥å°†å…¶å†™è¿›è®¡åˆ’ä»»åŠ¡é‡Œï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤å³å¯è®©WSLå¼€æœºå¯åŠ¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">powershell.exe -WindowStyle Hidden -c &amp;lt;wsl-name&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…¶ä¸­&lt;code>&amp;lt;wsl-name&amp;gt;&lt;/code>éœ€è¦æ›¿æ¢æˆä½ å®‰è£…çš„WSLå‘è¡Œç‰ˆå¯åŠ¨ç¨‹åºåç§°ï¼Œåœ¨æœ¬æ–‡ä¸­ä¸º&lt;code>ubuntu1804.exe&lt;/code>ã€‚&lt;/p>
&lt;h4 id="ç¡®è®¤wslä¸­çš„sshåå°è¿›ç¨‹å·²ç»å¯åŠ¨">ç¡®è®¤WSLä¸­çš„&lt;code>ssh&lt;/code>åå°è¿›ç¨‹å·²ç»å¯åŠ¨&lt;/h4>
&lt;p>å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å’Œå¯åŠ¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">service ssh status
service ssh start
&lt;/code>&lt;/pre>&lt;/div>&lt;p>é»˜è®¤è®¾ç½®ä¸‹ï¼ŒWSLä¸­çš„&lt;code>ssh&lt;/code>æœåŠ¡ä¸ä¼šå¼€æœºå¯åŠ¨ã€‚å¦‚æœä½ æ˜¯ä¹ æƒ¯ä½¿ç”¨XShellç­‰å·¥å…·è¿æ¥åˆ°Linuxä¸»æœºï¼Œæˆ–æ˜¯æƒ³è¦ä½¿ç”¨VSCodeè¿œç¨‹æ’ä»¶æ¥ä½¿ç”¨WSLè¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆä½ å¯èƒ½å¸Œæœ›éšæ—¶èƒ½å¤Ÿé€šè¿‡SSHè¿æ¥åˆ°WSLï¼Œæ— é¡»é¢å¤–çš„æ‰‹åŠ¨æ“ä½œã€‚&lt;/p>
&lt;p>æˆ‘æŠŠåœ¨WSLä¸­è®¾ç½®å¼€æœºå¯åŠ¨é¡¹çš„æ–¹æ³•å†™åœ¨äº†&lt;a href="https://www.libre.fun/posts/setup-startup-in-wsl/">è¿™ç¯‡æ–‡ç« &lt;/a>ä¸­ã€‚&lt;/p>
&lt;h4 id="ç¡®è®¤ssh-host-keyæ­£ç¡®å­˜åœ¨">ç¡®è®¤SSH Host Keyæ­£ç¡®å­˜åœ¨&lt;/h4>
&lt;p>é€šè¿‡&lt;code>service ssh start&lt;/code>å¯åŠ¨&lt;code>sshd&lt;/code>æœåŠ¡æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹æç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ sudo service ssh start
* Starting OpenBSD Secure Shell server sshd Could not load host key: /etc/ssh/ssh_host_rsa_key
Could not load host key: /etc/ssh/ssh_host_ecdsa_key
Could not load host key: /etc/ssh/ssh_host_ed25519_key &lt;span style="color:#f92672">[&lt;/span> OK &lt;span style="color:#f92672">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™æ˜¯å› ä¸º&lt;code>ssh&lt;/code>æ²¡æœ‰ç”Ÿæˆå¯¹åº”çš„ä¸»æœºå¯†é’¥ï¼Œä¸€èˆ¬æ¥è®²åœ¨å®‰è£…&lt;code>ssh&lt;/code>æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œä½†æ˜¯å¤§æ¦‚æ˜¯WSLæŠŠè¿™ä¸€éƒ¨åˆ†é˜‰å‰²åˆ°äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æ‰‹åŠ¨ç”Ÿæˆï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key
ssh-keygen -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key
ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¹‹åé€šè¿‡&lt;code>service ssh --full-restart&lt;/code>é‡å¯æœåŠ¡ã€‚&lt;/p>
&lt;h4 id="sshd_configé…ç½®æ­£ç¡®">&lt;code>sshd_config&lt;/code>é…ç½®æ­£ç¡®&lt;/h4>
&lt;p>WSLè‡ªå¸¦çš„&lt;code>sshd&lt;/code>çš„é…ç½®ä¸­æœ‰å¾ˆå¤šå¯¼è‡´ä¸èƒ½ç™»å½•æˆåŠŸçš„åœ°æ–¹ï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰“å¼€&lt;code>sshd_config&lt;/code>è¿›è¡ŒæŸ¥çœ‹å’Œä¿®æ”¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">vim /etc/ssh/sshd_config
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¡®è®¤ä»¥ä¸‹å‡ ä¸ªé€‰é¡¹æ²¡æœ‰æ²¡æ³¨é‡Šä¸”ä½ çš„&lt;code>sshd_config&lt;/code>ä¸­å¯¹åº”é€‰é¡¹çš„å€¼å’Œè¿™é‡Œæ˜¯ä¸€æ ·çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">PasswordAuthentication yes
PermitEmptyPasswords yes
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¿å­˜é€€å‡ºï¼Œ&lt;code>service ssh restart&lt;/code>é‡å¯æœåŠ¡ã€‚&lt;/p>
&lt;h4 id="wslä¸­çš„sshç«¯å£é—®é¢˜">WSLä¸­çš„SSHç«¯å£é—®é¢˜&lt;/h4>
&lt;p>åœ¨æ‘¸ç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°åœ¨StackOverflowè®ºå›ä¸Šï¼Œæœ‰äººé‡åˆ°äº†ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„é—®é¢˜ï¼šå½“WSLçš„SSHç«¯å£ä¸º22æ—¶ï¼Œæ— æ³•è¿æ¥ï¼Œä¿®æ”¹ä¸ºå…¶ä»–ç«¯å£å·æ‰å¯ä»¥ï¼Œä¾‹å¦‚10022ã€‚ä¿®æ”¹æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨&lt;code>sshd_config&lt;/code>ä¸­ï¼ŒæŸ¥çœ‹å’Œä¿®æ”¹ä»¥ä¸‹é€‰é¡¹çš„å€¼ï¼Œç¡®è®¤æœªè¢«æ³¨é‡Šï¼š&lt;/p>
&lt;pre>&lt;code class="language-shel" data-lang="shel">Port 10022
&lt;/code>&lt;/pre>&lt;p>è¯¥é—®é¢˜æˆ‘è‡ªå·±æ²¡æœ‰é‡åˆ°ï¼Œä½†æ˜¯å¯¹äºæŸäº›å®‰è£…äº†SSHæœåŠ¡çš„Windowsä¸»æœºæ¥è¯´å¯èƒ½ä¼šå‡ºç°ï¼Œå› ä¸ºWindowsé¦–å…ˆè¦ç¡®ä¿ä¸»ç³»ç»Ÿçš„SSHï¼ˆé»˜è®¤ä¹Ÿæ˜¯å¼€æ”¾åœ¨22ç«¯å£ï¼‰æ­£å¸¸å·¥ä½œï¼Œå› æ­¤å¯èƒ½ä¼šå¯¹WSLä¸­è¿è¡Œåœ¨22ç«¯å£çš„SSHäº§ç”Ÿå¹²æ‰°ã€‚&lt;/p>
&lt;p>è¿™é‡Œè®°å½•ä¸‹æ¥ï¼Œä»¥å¤‡åç”¨ã€‚&lt;/p>
- https://www.libre.fun/posts/install-wsl-and-troubleshooting/ - Libre. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</description></item><item><title>WSL è®¾ç½®å¼€æœºå¯åŠ¨é¡¹</title><link>https://www.libre.fun/posts/setup-startup-in-wsl/</link><pubDate>Tue, 29 Oct 2019 12:50:09 +0800</pubDate><guid>https://www.libre.fun/posts/setup-startup-in-wsl/</guid><description>Libre's Blog https://www.libre.fun/posts/setup-startup-in-wsl/ -&lt;p>åœ¨ &lt;a href="https://www.libre.fun/posts/install-wsl-and-troubleshooting/">WSL Ubuntuçš„å®‰è£…å’ŒTroubleshooting&lt;/a> ä¸­ï¼Œæåˆ°äº†WSLæ˜¯ä¸€ä¸ªé˜‰å‰²äº†éƒ¨åˆ†åŠŸèƒ½çš„Linuxï¼Œå…¶ä¸­å°¤å…¶æ˜¯&lt;code>systemd&lt;/code>çš„é˜‰å‰²ï¼Œä½¿å¾—ä¸èƒ½æ–¹ä¾¿åœ°é€šè¿‡&lt;code>systemctl enable &amp;lt;service_name&amp;gt;&lt;/code>æ¥æŠŠä¸€ä¸ªæœåŠ¡åŠ å…¥å¼€æœºå¯åŠ¨é¡¹å†…ã€‚&lt;/p>
&lt;p>ä½†æ˜¯å¯¹äºå¤§éƒ¨åˆ†ä½¿ç”¨WSLçš„äººè€Œè¨€ï¼Œæ— è®ºæ˜¯å‡ºäºåˆšæ€§éœ€æ±‚ï¼ˆä¾‹å¦‚åœ¨WSLä¸­è¿è¡Œä¸€ä¸ªWebæœåŠ¡å™¨ï¼‰ã€è¿˜æ˜¯ä½¿ç”¨æ–¹ä¾¿ï¼ˆéšæ—¶é€šè¿‡SSHè¿æ¥åˆ°WSLï¼‰ï¼Œéƒ½å¯èƒ½éœ€è¦åœ¨WSLä¸­åŠ å…¥å¼€æœºå¯åŠ¨é¡¹ã€‚å…·ä½“æ–¹æ³•å¦‚ä¸‹æ‰€è¿°ã€‚&lt;/p>
&lt;p>æœ¬æ–‡é˜è¿°å¦‚ä½•è®©ä¸€ä¸ªWSLä¸­çš„æœåŠ¡èƒ½å¤ŸéšWindowså¼€æœºå¯åŠ¨ã€‚ä»¥&lt;code>ssh&lt;/code>æœåŠ¡ä¸ºä¾‹ï¼Œè¯¥æœåŠ¡åœ¨WSL Ubuntu 18.04 LTSå‘è¡Œç‰ˆä¸­è‡ªå¸¦ï¼Œä½†å®‰è£…å¥½åä¸ä¼šå¼€æœºå¯åŠ¨ã€‚&lt;/p>
&lt;h2 id="åœ¨wslä¸­å†™å¥½å¯åŠ¨é¡¹è„šæœ¬">åœ¨WSLä¸­å†™å¥½å¯åŠ¨é¡¹è„šæœ¬&lt;/h2>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">echo -e &lt;span style="color:#e6db74">&amp;#34;#! /bin/bash\n/etc/init.d/ssh start&amp;#34;&lt;/span> | tee -a /etc/init.wsl
chmod +x /etc/init.wsl
echo &lt;span style="color:#e6db74">&amp;#34;%sudo ALL=(ALL) NOPASSWD: /etc/init.wsl&amp;#34;&lt;/span> | tee -a /etc/sudoers
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šé¢çš„å‘½ä»¤åšäº†ä¸‰ä»¶äº‹ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>åœ¨&lt;code>/etc&lt;/code>ç›®å½•ä¸‹ç”Ÿæˆåä¸º&lt;code>init.wsl&lt;/code>çš„æ–‡ä»¶ï¼Œå¹¶å‘å…¶ä¸­å†™å…¥ä»¥ä¸‹ä¸¤è¡Œå†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">&lt;span style="color:#75715e">#! /bin/bash
&lt;/span>&lt;span style="color:#75715e">&lt;/span>/etc/init.d/ssh start
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¬¬ä¸€è¡Œå‘ç³»ç»Ÿå£°æ˜è¯¥è„šæœ¬éœ€è¦&lt;code>/bin/bash&lt;/code>æ¥æ‰§è¡Œï¼Œç¬¬äºŒè¡Œåˆ™æ˜¯æ‰§è¡Œ&lt;code>ssh&lt;/code>çš„å¯åŠ¨è„šæœ¬ã€‚&lt;/p>
&lt;p>å¦‚æœä½ æœ‰å…¶ä»–æœåŠ¡éœ€è¦å¼€æœºå¯åŠ¨ï¼Œä½¿ç”¨&lt;code>vim&lt;/code>ç¼–è¾‘&lt;code>/etc/init.wsl&lt;/code>ï¼Œå¹¶å°†ä¸‹é¢å‘½ä»¤ä¸­çš„&lt;code>&amp;lt;service_name&amp;gt;&lt;/code>æ›¿æ¢æˆéœ€è¦çš„æœåŠ¡åå³å¯ï¼Œè¯¥æœåŠ¡éœ€è¦åœ¨&lt;code>/etc/init.d&lt;/code>ç›®å½•ä¸‹å­˜åœ¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">/etc/init.d/&amp;lt;service_name&amp;gt; start
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>èµ‹äºˆ&lt;code>/etc/init.wsl&lt;/code>è„šæœ¬å¯æ‰§è¡Œæƒé™&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨&lt;code>/etc/sudoers&lt;/code>æ–‡ä»¶ä¸­å£°æ˜ï¼šæ‰§è¡Œ&lt;code>/etc/init.wsl&lt;/code>è„šæœ¬ä¸éœ€è¦è¾“å…¥å¯†ç &lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="åœ¨windowsä¸­æ·»åŠ å¼€æœºå¯åŠ¨è„šæœ¬">åœ¨Windowsä¸­æ·»åŠ å¼€æœºå¯åŠ¨è„šæœ¬&lt;/h2>
&lt;p>ç”±äºWSLè¯´åˆ°åº•è¿˜æ˜¯Windowså†…ç½®çš„ä¸€ä¸ªâ€œæœåŠ¡â€ï¼Œæˆ–è€…è¯´æ˜¯â€œç»„ä»¶â€ï¼Œå› æ­¤å¯¹å®ƒçš„ä¸€äº›æ“ä½œè¿˜æ˜¯å…ä¸äº†è¦ä»Windowsæœ¬èº«è¿›è¡Œã€‚&lt;/p>
&lt;p>æŒ‰ä¸‹ã€ŒWin + Rã€ï¼Œè¾“å…¥&lt;code>shell:startup&lt;/code>åå›è½¦ï¼Œæ‰“å¼€å¯åŠ¨é¡¹æ–‡ä»¶å¤¹ã€‚æ–°å»ºä¸€ä¸ªåä¸º&lt;code>WhateverYouLike.vbs&lt;/code>çš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨è®°äº‹æœ¬æˆ–è€…VSCodeæ‰“å¼€å®ƒï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p>
&lt;pre>&lt;code class="language-vbscript" data-lang="vbscript">Set ws = CreateObject(&amp;quot;Wscript.Shell&amp;quot;)
ws.run &amp;quot;bash -c &amp;quot;&amp;quot;sudo /etc/init.wsl&amp;quot;&amp;quot;&amp;quot;, vbhide
&lt;/code>&lt;/pre>&lt;p>æˆ‘å¯¹VBè„šæœ¬è¯­è¨€ä¸å¤ªäº†è§£ï¼Œä½†æ˜¯å¤§æ¦‚èƒ½ç†è§£è¿™ä¸¤å¥çš„å«ä¹‰ã€‚&lt;/p>
&lt;p>ç¬¬ä¸€å¥åˆ›å»ºäº†ä¸€ä¸ªå¯ä»¥æ‰§è¡Œå‘½ä»¤çš„å¯¹è±¡ï¼Œå‘½åä¸º&lt;code>ws&lt;/code>ï¼›ç¬¬äºŒå¥è°ƒç”¨äº†è¯¥å¯¹è±¡çš„&lt;code>run&lt;/code>æ–¹æ³•ï¼Œæ‰§è¡Œäº†ä¸€å¥windowså†…çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">bash -c &lt;span style="color:#e6db74">&amp;#34;sudo /etc/init.wsl&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ«å°¾ä¼ é€’çš„å‚æ•°&lt;code>vbhide&lt;/code>æ˜¯è¡¨ç¤ºåœ¨åå°æ‰§è¡Œè¯¥è„šæœ¬ã€‚&lt;/p>
&lt;p>æœ€åæä¸€å¥ï¼Œå¯ä»¥çœ‹åˆ°&lt;code>ws.run &amp;quot;bash -c &amp;quot;&amp;quot;sudo /etc/init.wsl&amp;quot;&amp;quot;&amp;quot;, vbhide&lt;/code>ä¸­æœ‰å¾ˆå¤šä¸ªåŒå¼•å·ï¼Œçœ‹å¾—äººçœ¼èŠ±ç¼­ä¹±ï¼Œä½†è¿™å®é™…ä¸Šæ˜¯ç”±äºVBScriptçš„è½¬ä¹‰å­—ç¬¦è§„åˆ™æ‰€å¯¼è‡´ï¼Œå®åœ¨è°ˆä¸ä¸Šç¾è§‚ã€‚&lt;/p>
- https://www.libre.fun/posts/setup-startup-in-wsl/ - Libre. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</description></item><item><title>Docker å…¥é—¨ï¼šé•œåƒ</title><link>https://www.libre.fun/posts/introduction-to-docker-image/</link><pubDate>Mon, 28 Oct 2019 10:58:00 +0800</pubDate><guid>https://www.libre.fun/posts/introduction-to-docker-image/</guid><description>Libre's Blog https://www.libre.fun/posts/introduction-to-docker-image/ -&lt;blockquote>
&lt;p>å‚è€ƒï¼š&lt;a href="https://yeasy.gitbooks.io/docker_practice/image/">Docker â€” ä»å…¥é—¨åˆ°å®è·µ&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="é•œåƒçš„åŸºæœ¬åŸç†">é•œåƒçš„åŸºæœ¬åŸç†&lt;/h2>
&lt;p>OSåˆ†ä¸ºå†…æ ¸å’Œç”¨æˆ·ç©ºé—´ã€‚å¯¹äºLinuxè€Œè¨€ï¼Œå†…æ ¸å¯åŠ¨åï¼Œ ä¼šæŒ‚è½½ &lt;code>root&lt;/code> æ–‡ä»¶ç³»ç»Ÿä¸ºå…¶æä¾›ç”¨æˆ·ç©ºé—´æ”¯æŒã€‚è€Œ Docker é•œåƒï¼ˆImageï¼‰ï¼Œå°±ç›¸å½“äºæ˜¯ä¸€ä¸ª &lt;code>root&lt;/code> æ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚å®˜æ–¹é•œåƒ &lt;code>ubuntu:18.04&lt;/code> å°±åŒ…å«äº†å®Œæ•´çš„ä¸€å¥— Ubuntu 18.04 æœ€å°ç³»ç»Ÿçš„ &lt;code>root&lt;/code> æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p>
&lt;p>Dockerä¸­çš„é•œåƒåˆ©ç”¨Union FSæŠ€æœ¯ï¼Œè¢«è®¾è®¡ä¸ºåˆ†å±‚å­˜å‚¨çš„æ¶æ„ï¼Œç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆã€‚&lt;/p>
&lt;p>é•œåƒåœ¨æ„å»ºæ—¶ï¼Œä¼šä¸€å±‚å±‚æ„å»ºï¼Œå‰ä¸€å±‚æ˜¯åä¸€å±‚çš„åŸºç¡€ã€‚ æ¯ä¸€å±‚æ„å»ºå®Œå°±ä¸ä¼šå†å‘ç”Ÿæ”¹å˜ï¼Œåä¸€å±‚ä¸Šçš„ä»»ä½•æ”¹å˜åªå‘ç”Ÿåœ¨è‡ªå·±è¿™ä¸€å±‚ã€‚æ¯”å¦‚ï¼Œåˆ é™¤å‰ä¸€å±‚æ–‡ä»¶çš„æ“ä½œï¼Œå®é™…ä¸æ˜¯çœŸçš„åˆ é™¤å‰ä¸€å±‚çš„æ–‡ä»¶ï¼Œè€Œæ˜¯ä»…åœ¨å½“å‰å±‚æ ‡è®°ä¸ºè¯¥æ–‡ä»¶å·²åˆ é™¤ã€‚&lt;/p>
&lt;p>åˆ†å±‚å­˜å‚¨çš„ç‰¹å¾ä½¿å¾—é•œåƒçš„å¤ç”¨ã€å®šåˆ¶å˜çš„æ›´ä¸ºå®¹æ˜“ã€‚å¯ä»¥ç”¨ä¹‹å‰æ„å»ºå¥½çš„é•œåƒä½œä¸ºåŸºç¡€å±‚ï¼Œç„¶åè¿›ä¸€æ­¥æ·»åŠ æ–°çš„å±‚ï¼Œä»¥å®šåˆ¶è‡ªå·±æ‰€éœ€çš„å†…å®¹ï¼Œæ„å»ºæ–°çš„é•œåƒã€‚&lt;/p>
&lt;h2 id="é•œåƒä»“åº“çš„ç›¸å…³æ¦‚å¿µ">é•œåƒä»“åº“çš„ç›¸å…³æ¦‚å¿µ&lt;/h2>
&lt;p>è¿™é‡Œè§£é‡Šä¸€ä¸‹Dockeré•œåƒä»“åº“ç›¸å…³çš„æ¦‚å¿µï¼š&lt;/p>
&lt;p>é¦–å…ˆï¼Œè¯»è€…åº”è¯¥çŸ¥é“Linuxç³»ç»Ÿä¸­æœ‰è½¯ä»¶æºçš„æ¦‚å¿µï¼Œä¸€ä¸ªè½¯ä»¶æºæä¾›äº†è‹¥å¹²è½¯ä»¶çš„ä¸‹è½½ã€å®‰è£…ä¸æ›´æ–°ã€‚ä¾‹å¦‚ï¼ŒUbuntuç³»ç»Ÿä¸­é€šè¿‡&lt;code>apt install&lt;/code>æˆ–è€…&lt;code>apt-get install&lt;/code>å‘½ä»¤ä»é¢„å…ˆé…ç½®çš„è½¯ä»¶æºä¸­ä¸‹è½½å’Œå®‰è£…è½¯ä»¶ï¼ŒCentOSä¹Ÿæœ‰ç±»ä¼¼çš„&lt;code>yum install&lt;/code>ç­‰ã€‚&lt;/p>
&lt;p>åœ¨Dockerçš„ä¸–ç•Œä¸­ï¼Œè¿™æ ·çš„ã€Œè½¯ä»¶æºã€è¢«ç§°ä¸º&lt;strong>registry&lt;/strong>ã€‚registryç”¨ä»¥ä¿å­˜Dockeré•œåƒï¼Œå…¶ä¸­è¿˜åŒ…æ‹¬é•œåƒå±‚æ¬¡ç»“æ„å’Œå…³äºé•œåƒçš„å…ƒæ•°æ®ç­‰ã€‚ç”±Dockerå®˜æ–¹ç»´æŠ¤çš„registryè¢«ç§°ä¸ºDocker Hubï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šæ­å»ºç§æœ‰çš„registryã€‚&lt;/p>
&lt;p>Docker Hubå¹¶ä¸æ˜¯åªæœ‰Dockerå®˜æ–¹æ‰å¯ä»¥æä¾›é•œåƒï¼Œå®ƒç±»ä¼¼Githubï¼Œä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥åˆ›å»ºè´¦å·ï¼Œå‘Docker Hubä¸Šä¼ è‡ªå·±åˆ¶ä½œçš„é•œåƒã€‚&lt;/p>
&lt;p>å¯¹äºDocker Hubä¸­å­˜å‚¨çš„é•œåƒï¼Œå¯ä»¥é€šè¿‡&lt;code>[username/]repository:tag&lt;/code>æ¥å”¯ä¸€æŒ‡å®šã€‚&lt;/p>
&lt;ul>
&lt;li>å¦‚æœä¸æä¾›&lt;code>username&lt;/code>ï¼Œåˆ™ä¼šæŒ‡å‘Dockerå®˜æ–¹ç»´æŠ¤çš„é•œåƒåº“ï¼Œå³&lt;code>library&lt;/code>ï¼›å¦‚æœæä¾›äº†&lt;code>username&lt;/code>ï¼Œåˆ™æŒ‡å‘çš„æ˜¯è¯¥ç”¨æˆ·çš„é•œåƒåº“ï¼ˆç›¸å½“äºè´¦æˆ·ï¼‰&lt;/li>
&lt;li>&lt;code>repository&lt;/code>è¡¨ç¤ºçš„æ˜¯å…·æœ‰æŸä¸ªåŠŸèƒ½çš„Dockeré•œåƒçš„æ‰€æœ‰è¿­ä»£ç‰ˆæœ¬æ„æˆçš„é•œåƒç»„ï¼Œä¾‹å¦‚&lt;code>ubuntu&lt;/code>ï¼Œå…¶å«ä¹‰æ˜¯åŒ…æ‹¬Ubuntu 18.04ã€Ubuntu 16.04ã€Ubuntu 14.04ç­‰ä¸€ç³»åˆ—é•œåƒåœ¨å†…çš„é•œåƒç»„&lt;/li>
&lt;li>&lt;code>tag&lt;/code>ç”¨äºæŒ‡å‡º&lt;code>repository&lt;/code>ä¸­å…·ä½“çš„æŸä¸ªé•œåƒï¼Œä¾‹å¦‚&lt;code>ubuntu:latest&lt;/code>ï¼Œæ„ä¸ºæŒ‡å®šè¯¥é•œåƒåº“ä¸­æœ€æ–°ç‰ˆçš„Ubuntué•œåƒï¼›å†ä¾‹å¦‚&lt;code>ubuntu:16.04&lt;/code>ï¼Œæ„ä¸ºæŒ‡å®šç‰ˆæœ¬å·ä¸º16.04çš„Ubuntué•œåƒã€‚&lt;/li>
&lt;/ul>
&lt;blockquote class="my-alert my-alert-note">
&lt;p>ä½†æ˜¯å¯¹äºä¸€æ¡&lt;code>docker pull ubuntu&lt;/code>å‘½ä»¤æ¥è¯´ï¼Œå¹¶ä¸æ˜¯æ‹‰å–äº†æ•´ä¸ªé•œåƒç»„ï¼Œè€Œæ˜¯ä¼šä½¿ç”¨ä¸€ä¸ªé»˜è®¤çš„&lt;code>tag&lt;/code>ï¼Œå³&lt;code>latest&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;blockquote class="my-alert my-alert-warning">
&lt;p>&lt;p>ä¸è¦æ··æ·†é•œåƒåº“å’Œé•œåƒç»„çš„æ¦‚å¿µï¼š&lt;/p>
&lt;p>é•œåƒåº“ï¼šé»˜è®¤ä¸º&lt;code>library&lt;/code>æˆ–ç”±&lt;code>username&lt;/code>æŒ‡å®šï¼Œæ˜¯Dockerå®˜æ–¹æˆ–æŸç”¨æˆ·æä¾›çš„è‹¥å¹²ï¼ˆä¸ä¸€å®šç›¸å…³çš„ï¼‰é•œåƒç»„çš„é›†åˆï¼›&lt;/p>
&lt;p>é•œåƒç»„ï¼šç”±&lt;code>repository&lt;/code>ï¼Œä¸€èˆ¬æŸä¸ªç‰¹å®šåŠŸèƒ½çš„é•œåƒçš„è‹¥å¹²è¿­ä»£ç‰ˆæœ¬ç»„æˆï¼Œæ¯ä¸ªè¿­ä»£ç‰ˆæœ¬é€šå¸¸å¯ä»¥ç”±ä¸€ä¸ªæ ‡ç­¾æŒ‡å®šï¼Œå¦‚ä¸Šé¢ä¸¾çš„&lt;code>ubuntu&lt;/code>çš„ä¾‹å­ï¼›&lt;/p>
&lt;p>å› ä¸º&lt;code>library&lt;/code>å’Œ&lt;code>repository&lt;/code>åœ¨ä¸­æ–‡é‡Œéƒ½å¯ä»¥ç¿»è¯‘ä¸ºâ€œåº“â€ï¼Œä¸ªäººåœ¨çœ‹ä¸€äº›æ•™ç¨‹æˆ–ä¹¦çš„æ—¶å€™ä¹Ÿç¨å¾®æ··äº†ä¸€ä¸‹ï¼Œæ‰€ä»¥è¿™é‡Œç‰¹æ„è¯´æ˜ã€‚&lt;/p>
&lt;/p>
&lt;/blockquote>
&lt;h2 id="è·å–é•œåƒ">è·å–é•œåƒ&lt;/h2>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">docker pull &lt;span style="color:#f92672">[&lt;/span>options&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#f92672">[&lt;/span>docker_registry_address&lt;span style="color:#f92672">[&lt;/span>:port&lt;span style="color:#f92672">]&lt;/span>/&lt;span style="color:#f92672">]&lt;/span>repository&lt;span style="color:#f92672">[&lt;/span>:tag&lt;span style="color:#f92672">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…¶ä¸­ï¼š&lt;/p>
&lt;ul>
&lt;li>docker_registry_addressï¼šDockeré•œåƒä»“åº“åœ°å€ï¼Œæ ¼å¼ä¸€èˆ¬ä¸º&lt;code>domain/IP[:port]&lt;/code>ã€‚å¦‚æœä¸ç»™å‡ºï¼Œé»˜è®¤ä¸ºDocker Hub&lt;/li>
&lt;li>repositoryï¼šé•œåƒåç§°ï¼Œå¦‚&lt;code>ubuntu&lt;/code>&lt;/li>
&lt;li>tagï¼šæŒ‡å‡ºé•œåƒçš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚&lt;code>ubuntu:18.04&lt;/code>ï¼Œæˆ–è€…&lt;code>ubuntu:latest&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ docker pull ubuntu:18.04
latest: Pulling from library/ubuntu
22e816666fd6: Pull complete
079b6d2a1e53: Pull complete
11048ebae908: Pull complete
c58094023a2e: Pull complete
Digest: sha256:a7b8b7b33e44b123d7f997bd4d3d0a59fafc63e203d17efedf09ff3f6f516152
Status: Downloaded newer image &lt;span style="color:#66d9ef">for&lt;/span> ubuntu:latest
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šé¢çš„è¾“å‡ºä½“ç°äº†åˆ†å±‚å­˜å‚¨çš„æ¦‚å¿µï¼Œé•œåƒç”±å¤šå±‚å­˜å‚¨æ„æˆï¼Œå› æ­¤ä¸‹è½½çš„æ—¶å€™ä¹Ÿæ˜¯ä¸€å±‚ä¸€å±‚åœ°ä¸‹è½½ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿äº†æœ¬åœ°é•œåƒçš„å¤ç”¨ï¼Œå‡å°‘å­˜å‚¨æ¶ˆè€—ã€‚ä¸‹è½½è¿‡ç¨‹ä¸­ç»™å‡ºäº†æ¯ä¸€å±‚çš„IDçš„å‰12ä½ï¼Œè¯¥IDéšç€é•œåƒçš„æ›´æ–°å¯èƒ½ä¼šæœ‰æ‰€å˜åŒ–ï¼›ä¸‹è½½ç»“æŸåï¼Œä¼šç»™å‡ºè¯¥é•œåƒå®Œæ•´çš„SHA256æ‘˜è¦ï¼Œç”¨ä»¥ç¡®è®¤ä¸‹è½½çš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;h2 id="é•œåƒè¿è¡Œ">é•œåƒè¿è¡Œ&lt;/h2>
&lt;p>ä¸‹é¢çš„å‘½ä»¤ç»™å‡ºäº†è¿è¡Œé•œåƒçš„ä¸€ä¸ªä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ docker run -it --rm ubuntu:18.04 bash
root@7ca7d3899f54:/# cat /etc/os-release
NAME&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Ubuntu&amp;#34;&lt;/span>
VERSION&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;18.04.3 LTS (Bionic Beaver)&amp;#34;&lt;/span>
&lt;span style="color:#75715e"># ç•¥å»ä¸€äº›è¾“å‡º&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>docker run&lt;/code>å‘½ä»¤ç”¨äºè¿è¡Œå®¹å™¨ï¼Œè¿™é‡Œæ¶‰åŠåˆ°çš„å‚æ•°æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>-it&lt;/code>ï¼š&lt;code>-i&lt;/code>å’Œ&lt;code>-t&lt;/code>å‚æ•°çš„åˆå¹¶å½¢å¼ï¼Œå‰è€…è¡¨ç¤ºè¿›è¡Œäº¤äº’å¼æ“ä½œï¼Œåè€…è¡¨ç¤ºå¯åŠ¨ä¸€ä¸ªä¼ªç»ˆç«¯ã€‚
å¦‚æœåŠ &lt;code>-t&lt;/code>ä¸åŠ &lt;code>-i&lt;/code>ï¼Œåˆ™ä¼šæ˜¾ç¤º&lt;strong>ä¼ªç»ˆç«¯&lt;/strong>ï¼Œå³å‘½ä»¤è¡Œæç¤ºç¬¦ï¼Œä½†æ— æ³•è¾“å…¥å‘½ä»¤ä¸å®¹å™¨äº¤äº’ï¼›å¦‚æœåŠ &lt;code>-t&lt;/code>ä¸åŠ &lt;code>-i&lt;/code>ï¼Œåˆ™å¯ä»¥è¾“å…¥å‘½ä»¤å¹¶æ‰§è¡Œï¼Œä½†ä¸ä¼šæ˜¾ç¤ºä¼ªç»ˆç«¯ï¼Œå³æ²¡æœ‰å‘½ä»¤è¡Œæç¤ºç¬¦ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>--rm&lt;/code>ï¼šè¡¨ç¤ºåœ¨å®¹å™¨é€€å‡ºååˆ é™¤ï¼Œè¿™é‡Œå› ä¸ºä»…æ˜¯è¯•è¿è¡Œï¼Œå› æ­¤æŒ‡å®šé€€å‡ºååˆ é™¤ï¼Œé¿å…æµªè´¹ç©ºé—´&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>ubuntu:18.04&lt;/code>ï¼šæŒ‡å‡ºè¦åŠ è½½çš„é•œåƒ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>bash&lt;/code>ï¼šå¯åŠ¨å®¹å™¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªäº¤äº’å¼Shellï¼Œå› æ­¤ä½¿ç”¨&lt;code>bash&lt;/code>Â·&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>è¿›å…¥å®¹å™¨åé»˜è®¤æ˜¯ä»¥&lt;code>root&lt;/code>èº«ä»½ï¼Œæ­¤æ—¶å¯ä»¥åƒåœ¨å¸¸è§„Ubuntuç³»ç»Ÿä¸­é‚£æ ·æ‰§è¡ŒShellå‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬æŸ¥çœ‹äº†ä¸€ä¸‹ç³»ç»Ÿä¿¡æ¯ã€‚&lt;/p>
&lt;p>æœ€åå¯ä»¥é€šè¿‡æŒ‰ä¸‹&lt;code>Ctrl+D&lt;/code>ï¼ˆé€€å‡ºå½“å‰ä¼šè¯ï¼‰æˆ–è¾“å…¥&lt;code>exit&lt;/code>é€€å‡ºå®¹å™¨ã€‚&lt;/p>
&lt;blockquote class="my-alert my-alert-note">
&lt;p>äº‹å®ä¸Šï¼Œæ­¤æ—¶æŒ‰ä¸‹ &lt;code>Ctrl+D&lt;/code> æˆ–è¾“å…¥&lt;code>exit&lt;/code>æ˜¯é€€å‡ºäº†&lt;code>bash&lt;/code>ï¼Œå¹¶ä¸ç­‰åŒäºç›´æ¥é€€å‡ºå®¹å™¨ã€‚çœŸæ­£å¯¼è‡´å®¹å™¨é€€å‡ºçš„åŸå› æ˜¯è¯¥å®¹å™¨çš„ä¸»è¿›ç¨‹ï¼Œå³&lt;code>bash&lt;/code>é€€å‡ºäº†ï¼Œä¸»è¿›ç¨‹é€€å‡ºäº†ï¼Œå®¹å™¨å†æ— å­˜åœ¨çš„å¿…è¦ï¼Œå› æ­¤ä¹Ÿéšä¹‹é€€å‡ºäº†ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="æŸ¥çœ‹æœ¬åœ°é•œåƒ">æŸ¥çœ‹æœ¬åœ°é•œåƒ&lt;/h2>
&lt;p>&lt;code>docker image ls&lt;/code>å‘½ä»¤ç”¨äºåˆ—å‡ºå·²ä¸‹è½½çš„é•œåƒï¼Œå¹¶ä¸”æä¾›äº†å¾ˆå¤šå‚æ•°æ¥å®šåˆ¶è¾“å‡ºã€‚&lt;/p>
&lt;h3 id="æ— å‚æ•°">æ— å‚æ•°&lt;/h3>
&lt;p>ä¸å¸¦å‚æ•°çš„&lt;code>docker image ls&lt;/code>å‘½ä»¤ä¼šåˆ—å‡ºæœ¬åœ°æ‰€æœ‰&lt;strong>é¡¶å±‚&lt;/strong>é•œåƒçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä»“åº“åã€æ ‡ç­¾ã€é•œåƒIDã€åˆ›å»ºæ—¶é—´å’Œå ç”¨çš„ç©ºé—´ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä¸é¡¶å±‚é•œåƒæ¦‚å¿µç›¸å¯¹åº”çš„æ˜¯ä¸­é—´å±‚é•œåƒï¼Œä¸‹æ–‡ä¼šæåŠ&lt;/p>
&lt;/blockquote>
&lt;p>é•œåƒIDæ˜¯ä¸€ä¸ªé•œåƒå”¯ä¸€çš„æ ‡è¯†ï¼ŒåŒä¸€ä¸ªé•œåƒæœ‰å¯èƒ½å¯¹åº”å¤šä¸ªæ ‡ç­¾ã€‚ä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ docker image ls
REPOSITORY TAG IMAGE ID CREATED SIZE
ubuntu 18.04 cf0f3ca922e0 &lt;span style="color:#ae81ff">9&lt;/span> days ago 64.2MB
ubuntu latest cf0f3ca922e0 &lt;span style="color:#ae81ff">9&lt;/span> days ago 64.2MB
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å› ä¸ºæœ¬æ–‡å†™ä½œæ—¶ï¼ŒDockerå®˜æ–¹é•œåƒä»“åº“ä¸­Ubuntuçš„æœ€æ–°ç‰ˆï¼ˆlatestï¼‰æ­£æ˜¯18.04ï¼Œå› æ­¤äºŒè€…è™½ç„¶æ ‡ç­¾ä¸åŒï¼Œä½†æ˜¯IDç›¸åŒï¼Œå¯¹åº”çš„æ˜¯åŒä¸€ä¸ªé•œåƒã€‚&lt;/p>
&lt;h3 id="-aåˆ—å‡ºæ‰€æœ‰é•œåƒ">&lt;code>-a&lt;/code>ï¼šåˆ—å‡ºæ‰€æœ‰é•œåƒ&lt;/h3>
&lt;p>ç›¸æ¯”äºä¸å¸¦å‚æ•°ï¼Œå¸¦ä¸Š&lt;code>-a&lt;/code>å‚æ•°ä¼šåˆ—å‡ºæ‰€æœ‰çš„&lt;strong>ä¸­é—´å±‚é•œåƒ&lt;/strong>ï¼Œè¿™äº›ä¸­é—´å±‚é•œåƒé€šå¸¸æ²¡æœ‰æ ‡ç­¾ï¼Œæ˜¯å…¶ä»–é¡¶å±‚é•œåƒçš„ä¾èµ–é¡¹ï¼Œå› æ­¤ä¸è¦è½»æ˜“åˆ é™¤ã€‚&lt;/p>
&lt;h3 id="åˆ—å‡ºéƒ¨åˆ†é•œåƒ">åˆ—å‡ºéƒ¨åˆ†é•œåƒ&lt;/h3>
&lt;ul>
&lt;li>&lt;code>docker image ls ubuntu&lt;/code>ï¼šæ ¹æ®é•œåƒç»„ååˆ—å‡ºé•œåƒ&lt;/li>
&lt;li>&lt;code>docker image ls ubuntu:18.04&lt;/code>ï¼šåˆ—å‡ºæŸä¸ªç‰¹å®šçš„é•œåƒ&lt;/li>
&lt;li>&lt;code>-f&lt;/code>/&lt;code>--filter&lt;/code>ï¼š&lt;code>docker image ls&lt;/code>æ”¯æŒè¿‡æ»¤å™¨ï¼ŒåŠ ä¸Š&lt;code>-f&lt;/code>æˆ–è€…&lt;code>--filter&lt;/code>ï¼Œéšåæä¾›æ¡ä»¶å³å¯ï¼Œä¾‹å¦‚ï¼š
&lt;ul>
&lt;li>&lt;code>docker image ls -f since=ubuntu:latest&lt;/code>å¯ä»¥æ˜¾ç¤ºæœ¬åœ°åœ¨&lt;code>ubuntu:latest&lt;/code>ä¹‹åæ‹‰å–æˆ–è€…æ„å»ºçš„é•œåƒ&lt;/li>
&lt;li>åŒç†ï¼Œå°†&lt;code>since&lt;/code>æ›¿æ¢æˆ&lt;code>before&lt;/code>å¯ä»¥æŸ¥çœ‹åœ¨æŸé•œåƒä¹‹å‰æ‹‰å–ã€æ„å»ºçš„é•œåƒ&lt;/li>
&lt;li>å¦‚æœæ„å»ºé•œåƒæ—¶å®šä¹‰äº†&lt;code>LABEL&lt;/code>ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç±»ä¼¼&lt;code>docker image ls -f label=xxx&lt;/code>æ¥è¿‡æ»¤&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="å®šåˆ¶è¾“å‡ºæ ¼å¼">å®šåˆ¶è¾“å‡ºæ ¼å¼&lt;/h3>
&lt;p>&lt;code>docker image ls&lt;/code>å¯ä»¥åˆ©ç”¨Goçš„æ¨¡æ¿è¯­æ³•æ¥å®šåˆ¶è¾“å‡ºæ ¼å¼ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ docker image ls --format &lt;span style="color:#e6db74">&amp;#34;{{.ID}}: {{.Repository}}&amp;#34;&lt;/span>
540a289bab6c: nginx
cf0f3ca922e0: ubuntu
cf0f3ca922e0: ubuntu
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™æ ·å°±å¯ä»¥åªè¾“å‡ºé•œåƒçš„IDå’Œé•œåƒç»„åã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæœ‰æ—¶å€™ä¸ºäº†æ‰¹é‡åˆ é™¤é•œåƒï¼Œé€šå¸¸ä¼šå…ˆç”¨æŸç§è§„åˆ™è¿‡æ»¤å‡ºä¸€æ‰¹é•œåƒIDï¼Œç„¶åå°†è¾“å‡ºä½œä¸ºå‚æ•°ä¼ é€’ç»™&lt;code>docker image rm&lt;/code>æ¥åˆ é™¤æŒ‡å®šé•œåƒï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨&lt;code>--format &amp;quot;{{.ID}}&amp;quot;&lt;/code>ï¼Œä¹Ÿå¯ä»¥ç®€å•åœ°ä½¿ç”¨&lt;code>-q&lt;/code>å‚æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ docker image ls -q
540a289bab6c
cf0f3ca922e0
cf0f3ca922e0
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æŸ¥çœ‹é•œåƒä½“ç§¯">æŸ¥çœ‹é•œåƒä½“ç§¯&lt;/h3>
&lt;p>åœ¨ä¸Šé¢çš„&lt;code>docker image ls&lt;/code>æ— å‚æ•°çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ¬åœ°æ¯ä¸ªé•œåƒçš„ä½“ç§¯ï¼ˆSizeï¼‰ã€‚ä½†å®é™…ä¸Šï¼Œè¿™é‡Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š&lt;/p>
&lt;ol>
&lt;li>è¯¥å‘½ä»¤åˆ—å‡ºçš„æ¯ä¸ªé•œåƒçš„ä½“ç§¯ä¸Docker Hubå†…å¯¹åº”é•œåƒæ‰€æ˜¾ç¤ºçš„ä½“ç§¯ä¼šæœ‰ä¸åŒï¼Œé€šå¸¸æ¯”Docker Hubçš„æ›´å¤§ã€‚è¿™æ˜¯å› ä¸ºDocker Hubä¸­æ˜¾ç¤ºçš„æ˜¯å‹ç¼©è¿‡çš„ä½“ç§¯ï¼Œæ–¹ä¾¿ç½‘ç»œä¼ è¾“ï¼Œè€Œæœ¬åœ°çš„Sizeåˆ™æ˜¯è¯¥é•œåƒçš„å®Œæ•´ä½“ç§¯ã€‚&lt;/li>
&lt;li>æœ¬åœ°æ‰€æœ‰é•œåƒçš„Sizeä¹‹å’Œå¹¶ä¸ç­‰äºè¿™äº›é•œåƒå®é™…å ç”¨çš„å­˜å‚¨ç©ºé—´ï¼Œå› ä¸ºä¸åŒé•œåƒä¹‹é—´å¯èƒ½ä¼šå¤ç”¨ä¸€äº›ä¸­é—´å±‚çš„é•œåƒã€‚&lt;/li>
&lt;/ol>
&lt;p>è¦æŸ¥çœ‹é•œåƒå®é™…å ç”¨çš„ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨&lt;code>docker system df&lt;/code>å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ docker system df
TYPE TOTAL ACTIVE SIZE RECLAIMABLE
Images &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> 190.4MB 190.4MB &lt;span style="color:#f92672">(&lt;/span>100%&lt;span style="color:#f92672">)&lt;/span>
Containers &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> 0B 0B
Local Volumes &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> 0B 0B
Build Cache &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> 0B 0B
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="è™šæ‚¬é•œåƒdangling-image">è™šæ‚¬é•œåƒ(dangling image)&lt;/h3>
&lt;p>åœ¨ä½¿ç”¨Dockerä¸€æ®µæ—¶é—´åï¼Œä½¿ç”¨&lt;code>docker image ls&lt;/code>æŸ¥çœ‹é•œåƒåˆ—è¡¨æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°&lt;code>REPOSITORY&lt;/code>å’Œ&lt;code>TAG&lt;/code>å‡ä¸º&lt;code>&amp;lt;none&amp;gt;&lt;/code>çš„é•œåƒï¼Œä½†æ˜¯ä»å…·æœ‰IDã€‚&lt;/p>
&lt;p>è¿™ç±»é•œåƒå‡ºç°çš„åŸå› æ˜¯ï¼Œéšç€é•œåƒç»„çš„ç»´æŠ¤ï¼Œæ–°ç‰ˆæœ¬çš„é•œåƒè¢«å‘å¸ƒï¼Œæ—§é•œåƒçš„é•œåƒåè¢«è½¬ç§»åˆ°äº†æ–°é•œåƒçš„èº«ä¸Šã€‚ä¾‹å¦‚&lt;code>ubuntu:18.04&lt;/code>ï¼Œå¯èƒ½å®˜æ–¹ç»™å…¶æ‰“äº†ä¸€ä¸ªè¡¥ä¸åé‡æ–°æ„å»ºäº†é•œåƒï¼Œä½†ä»æ—§ä½¿ç”¨&lt;code>ubuntu:18.04&lt;/code>è¿™ä¸ªé•œåƒåã€‚è™½ç„¶é•œåƒåä¿æŒäº†æ—§çš„åç§°ï¼Œä½†ç”±äºå†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œæ–°é•œåƒçš„IDä¹Ÿå‘ç”Ÿäº†å˜åŒ–ã€‚æ­¤æ—¶ï¼Œæ—§çš„é•œåƒçš„é•œåƒåè¢«â€œå‰¥å¤ºâ€ï¼Œæˆä¸ºäº†æ‰€è°“çš„â€œè™šæ‚¬é•œåƒâ€ã€‚&lt;/p>
&lt;p>ä½¿ç”¨&lt;code>docker image ls -f dangling=true&lt;/code>å¯ä»¥ä¸“é—¨æŸ¥çœ‹æ­¤ç±»é•œåƒã€‚&lt;/p>
- https://www.libre.fun/posts/introduction-to-docker-image/ - Libre. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</description></item><item><title>Ubuntu 18.04.3 å„ç±»ä»£ç†é…ç½®</title><link>https://www.libre.fun/posts/vmware-ubuntu-proxy-configure/</link><pubDate>Tue, 15 Oct 2019 16:54:57 +0800</pubDate><guid>https://www.libre.fun/posts/vmware-ubuntu-proxy-configure/</guid><description>Libre's Blog https://www.libre.fun/posts/vmware-ubuntu-proxy-configure/ -&lt;p>æœ¬æ–‡ä¸»è¦é˜è¿°åœ¨Ubuntuç³»ç»Ÿä¸­ä¸ºä¸€äº›è½¯ä»¶é…ç½®ä»£ç†çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬APTã€Snapã€Gitã€Bashå‘½ä»¤è¡Œä»¥åŠUbuntuç³»ç»Ÿå±‚é¢çš„HTTPä»£ç†ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ&lt;/h2>
&lt;h3 id="å®éªŒç¯å¢ƒ">å®éªŒç¯å¢ƒ&lt;/h3>
&lt;p>æœ¬æ–‡ä¸­ï¼Œç¬”è€…åœ¨VMwareè™šæ‹Ÿæœºä¸­å®‰è£…äº†Ubuntuç³»ç»Ÿï¼Œç½‘ç»œè¿æ¥ä½¿ç”¨NATæ¨¡å¼ã€‚å°±ä»£ç†çš„é…ç½®æ–¹å¼è€Œè¨€ï¼Œæ— è®ºè™šæ‹Ÿæœºè¿˜æ˜¯ç‰©ç†æœºéƒ½æ˜¯é€šç”¨çš„ï¼ŒåŒºåˆ«åªåœ¨äºä»£ç†IPæœ‰æ‰€ä¸åŒã€‚åœ¨ç‰©ç†æœºä¸Šé…ç½®ä»£ç†ï¼Œåªéœ€è¦çŸ¥é“ä»£ç†è½¯ä»¶çš„IPï¼ˆè®°ä½œ&lt;code>PROXY_IP&lt;/code>ï¼‰å’Œç«¯å£ï¼ˆæœ¬æ–‡ä¸­é»˜è®¤ä½¿ç”¨1080ï¼‰ã€‚&lt;/p>
&lt;h3 id="è™šæ‹Ÿæœºä½¿ç”¨natæ¨¡å¼è¿æ¥ç½‘ç»œ">è™šæ‹Ÿæœºä½¿ç”¨NATæ¨¡å¼è¿æ¥ç½‘ç»œ&lt;/h3>
&lt;p>å¦‚æœä½ æ˜¯åœ¨è™šæ‹Ÿæœºä¸­å®‰è£…äº†Ubuntuç³»ç»Ÿï¼Œåˆ™éœ€è¦ç¡®è®¤å…¶ç½‘ç»œè®¿é—®æ–¹å¼ä¸ºNATã€‚æ‰“å¼€VMwareï¼Œå³é”®ç‚¹å‡»å·¦ä¾§ã€Œåº“ã€é¢æ¿ä¸­å®‰è£…å¥½çš„è™šæ‹Ÿæœºï¼Œè¿›å…¥ã€Œç½‘ç»œé€‚é…å™¨ã€æŸ¥çœ‹ç½‘ç»œè¿æ¥æ¨¡å¼ï¼Œå°†å…¶è®¾ç½®ä¸ºã€ŒNATæ¨¡å¼ã€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º&lt;/p>
&lt;figure>
&lt;img src="https://image-hosting-1251771285.cos.ap-guangzhou.myqcloud.com/20191105215106.png"/>
&lt;/figure>
&lt;h3 id="ä»£ç†å·¥å…·çš„å‡†å¤‡">ä»£ç†å·¥å…·çš„å‡†å¤‡&lt;/h3>
&lt;p>ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå¿…é¡»å€ŸåŠ©æŸäº›ä»£ç†è½¯ä»¶æ‰èƒ½å¤Ÿå®ç°å¯¹å¤–ç½‘çš„æµç•…è®¿é—®ã€‚&lt;/p>
&lt;p>&lt;strong>åœ¨SSæˆ–è€…SSRä¸­ï¼Œéœ€è¦æ‰“å¼€â€œå…è®¸æ¥è‡ªå±€åŸŸç½‘çš„è¿æ¥â€(SSR-windows 4.9.2)æˆ–è€…â€œå…è®¸å…¶ä»–è®¾å¤‡è¿å…¥â€&lt;/strong>(SS-windows 4.1.7)ç­‰ç±»ä¼¼çš„é€‰é¡¹ã€‚è¯¥é€‰é¡¹çš„åç§°å¯èƒ½ä¼šæ ¹æ®ä»£ç†è½¯ä»¶ç‰ˆæœ¬çš„ä¸åŒè€Œæœ‰ç»†å¾®çš„å·®åˆ«ã€‚&lt;/p>
&lt;h3 id="åœ¨å®¿ä¸»æœºä¸Šå®‰è£…xshell-å¯é€‰">åœ¨å®¿ä¸»æœºä¸Šå®‰è£…XShell ï¼ˆå¯é€‰ï¼‰&lt;/h3>
&lt;p>XShellæ˜¯ä¸€ä¸ªç”¨äºSSHè¿æ¥åˆ°ä¸»æœºçš„å·¥å…·ï¼Œè¿™é‡Œæ¨èå®‰è£…å’Œä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨è¿‡è¿™ç±»å·¥å…·çš„ç”¨æˆ·å¯ä»¥ç•¥è¿‡ã€‚&lt;/p>
&lt;h3 id="ç¡®è®¤ä»£ç†ipåœ°å€">ç¡®è®¤ä»£ç†IPåœ°å€&lt;/h3>
&lt;p>åœ¨è™šæ‹Ÿæœºæ–¹æ¡ˆä¸­ï¼Œé€šå¸¸æ˜¯å®¿ä¸»æœºä¸Šè¿è¡Œä»£ç†è½¯ä»¶ï¼Œç„¶åé…ç½®è™šæ‹ŸæœºUbuntuç³»ç»Ÿçš„ä»£ç†ï¼Œä»è€Œä½¿Ubuntuæ­£å¸¸è®¿é—®å¤–ç½‘ã€‚æ­¤æ—¶åˆ™éœ€è¦æŸ¥çœ‹å®¿ä¸»æœºçš„IPåœ°å€ã€‚&lt;/p>
&lt;p>ä»¥Windowsä¸ºä¾‹ï¼ŒæŒ‰ä¸‹ã€ŒWin+Rã€ï¼Œè¾“å…¥&lt;code>cmd&lt;/code>å¹¶æŒ‰ä¸‹å›è½¦ï¼Œæ‰“å¼€Windowså‘½ä»¤æç¤ºç¬¦ã€‚&lt;/p>
&lt;p>è¾“å…¥&lt;code>ipconfig&lt;/code>ï¼Œåœ¨ã€Œä»¥å¤ªç½‘é€‚é…å™¨ VMware Network Adapter VMnet8ã€ä¸­æŸ¥çœ‹IPv4åœ°å€ï¼Œé€šå¸¸ä»¥&lt;code>172.16/17/18&lt;/code>æˆ–è€…&lt;code>192.168&lt;/code>å¼€å¤´ã€‚&lt;/p>
&lt;blockquote>
&lt;p>VMware Network Adapter VMnet8 æ˜¯VMwareä¸­ä½¿ç”¨NATæ¨¡å¼çš„è™šæ‹Ÿæœºä¸“ç”¨çš„ç½‘ç»œé€‚é…å™¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å°†è¯¥IPåœ°å€è®°ä¸º&lt;code>PROXY_IP&lt;/code>ï¼Œå³æˆ‘ä»¬éœ€è¦çš„ä»£ç†IPåœ°å€ã€‚åæ–‡ä¸­å°†å§‹ç»ˆä½¿ç”¨&lt;code>PROXY_IP&lt;/code>ã€‚è¯»è€…åœ¨å®è·µæ—¶éœ€è¦æ›¿æ¢ä¸ºè‡ªå·±æŸ¥çœ‹åˆ°çš„IPåœ°å€ã€‚&lt;/p>
&lt;h3 id="ç¡®è®¤ä»£ç†ç«¯å£å·">ç¡®è®¤ä»£ç†ç«¯å£å·&lt;/h3>
&lt;p>ä¸€èˆ¬æ¥è®²ï¼Œå¦‚æœæ²¡æœ‰åšè¿‡æ›´æ”¹ï¼ŒSSå’ŒSSRä½¿ç”¨çš„ä»£ç†ç«¯å£å·éƒ½æ˜¯&lt;code>1080&lt;/code>ã€‚æ‰€ä»¥æœ¬æ–‡çš„å‘½ä»¤ä¸­éƒ½ä¼šä½¿ç”¨&lt;code>1080&lt;/code>è¿™ä¸ªç«¯å£å·ã€‚&lt;/p>
&lt;h3 id="ç¡®è®¤ç³»ç»Ÿæƒé™">ç¡®è®¤ç³»ç»Ÿæƒé™&lt;/h3>
&lt;p>æœ¬æ–‡ä¸­ä½¿ç”¨çš„éƒ¨åˆ†å‘½ä»¤éœ€è¦&lt;code>root&lt;/code>æƒé™ï¼Œå¦‚æœåœ¨&lt;code>root&lt;/code>è´¦æˆ·ä¸‹ï¼Œåˆ™å¯ä»¥ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼›å¦‚æœæ˜¯åœ¨æ™®é€šè´¦æˆ·ä¸‹ï¼Œéœ€è¦åœ¨å‘½ä»¤å‰åŠ ä¸Š&lt;code>sudo&lt;/code>å…³é”®å­—ã€‚&lt;/p>
&lt;h2 id="aptä»£ç†é…ç½®">APTä»£ç†é…ç½®&lt;/h2>
&lt;blockquote>
&lt;p>å‚è€ƒï¼š&lt;a href="https://www.serverlab.ca/tutorials/linux/administration-linux/how-to-set-the-proxy-for-apt-for-ubuntu-18-04/">How to Set the Proxy for APT on Ubuntu 18.04&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>APTæ˜¯Ubuntuç³»ç»Ÿå†…å¸¸ç”¨çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œä¸ºAPTé…ç½®ä»£ç†ä¹‹åèƒ½å¤Ÿä¿è¯ä¸€äº›è½¯ä»¶å¯ä»¥æ­£å¸¸å®‰è£…ï¼Œå®‰è£…é€Ÿåº¦é€šå¸¸ä¹Ÿä¼šæœ‰ä¸€å®šçš„æå‡ã€‚&lt;/p>
&lt;p>ç»™APTé…ç½®ä»£ç†çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ sudo apt install vim
&lt;span style="color:#75715e"># è¯¥å‘½ä»¤æ˜¯ä¸ºäº†å®‰è£…Vimç¼–è¾‘å™¨ï¼ŒUbuntuä¸è‡ªå¸¦Vimï¼›å¦‚æœå·²å®‰è£…ï¼Œåˆ™å¯ä»¥å¿½ç•¥è¿™ä¸€æ¡&lt;/span>
$ sudo vim /etc/apt/apt.conf.d/proxy.conf
&lt;span style="color:#75715e"># æ­¤æ—¶ä¼šåˆ›å»ºå¹¶æ‰“å¼€ä¸€ä¸ªåä¸ºproxy.confçš„æ–‡ä»¶ï¼ŒæŒ‰ä¸‹Iè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥ä»¥ä¸‹å‡ è¡Œ&lt;/span>
Acquire &lt;span style="color:#f92672">{&lt;/span>
HTTP::proxy &lt;span style="color:#e6db74">&amp;#34;http://PROXY_IP:1080&amp;#34;&lt;/span>;
HTTPS::proxy &lt;span style="color:#e6db74">&amp;#34;http://PROXY_IP:1080&amp;#34;&lt;/span>;
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#75715e"># è¾“å…¥åæŒ‰ä¸‹Escï¼Œç„¶åè¾“å…¥:wqï¼ŒæŒ‰ä¸‹å›è½¦å³å¯ä¿å­˜é€€å‡º&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰“å¼€ä»£ç†è½¯ä»¶ï¼ˆSSæˆ–è€…SSRï¼‰çš„æµé‡ç›‘æ§ï¼Œä½¿ç”¨&lt;code>apt-get install&lt;/code>å‘½ä»¤å®‰è£…ä»»æ„ä¸€ä¸ªåŒ…ï¼ŒæŸ¥çœ‹ä¸‹è½½é€Ÿåº¦å¹¶å’Œå®¿ä¸»æœºä¸Šçš„æµé‡ç›‘æ§æ•°æ®è¿›è¡Œå¯¹ç…§ï¼Œå¦‚æœé€Ÿåº¦æ¥è¿‘ï¼Œå³è¯´æ˜ä»£ç†é…ç½®æˆåŠŸã€‚&lt;/p>
&lt;blockquote>
&lt;p>åŠ å¿«APTå®‰è£…é€Ÿåº¦è¿˜æœ‰å…¶ä»–æ–¹æ¡ˆï¼Œä¾‹å¦‚æ›¿æ¢ä¸ºæ·˜å®æºç­‰ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="snapä»£ç†é…ç½®">Snapä»£ç†é…ç½®&lt;/h2>
&lt;blockquote>
&lt;p>å‚è€ƒï¼š&lt;a href="https://blog.shunwww.cn/2019/02/19/yuque/proxy-snap/">ä½¿ç”¨ä»£ç†å®‰è£… SNAP åŒ…ä»¥åŠ é€Ÿä¸‹è½½&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>Snapä¹Ÿæ˜¯Ubuntuä¸‹ä½¿ç”¨æ¯”è¾ƒå¤šçš„ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œè€Œä¸”ä¸ªäººè§‰å¾—å®ƒè¦æ¯”APTæ›´å¥½ç”¨ï¼Œå¾ˆå¤šæµè¡Œè½¯ä»¶ä¹Ÿéƒ½æ”¯æŒé€šè¿‡Snapå®‰è£…ï¼Œå› æ­¤å¦‚æœä½ åœ¨ä½¿ç”¨Snapæ—¶è§‰å¾—ä¸‹è½½é€Ÿåº¦å¤ªæ…¢ï¼Œé‚£å¯èƒ½ä¹Ÿéœ€è¦ä¸ºå…¶é…ç½®ä»£ç†ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ systemctl edit snapd
&lt;span style="color:#75715e"># æ­¤æ—¶ä¼šæ‰“å¼€ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œç›´æ¥è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/span>
&lt;span style="color:#f92672">[&lt;/span>Service&lt;span style="color:#f92672">]&lt;/span>
Environment&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;http_proxy=PROXY_IP:1080&amp;#34;&lt;/span>
Environment&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;https_proxy=PROXY_IP:1080&amp;#34;&lt;/span>
&lt;span style="color:#75715e"># æ³¨æ„åœ¨è¾“å…¥ä¸Šè¿°å†…å®¹æ—¶ï¼Œå°é”®ç›˜çš„æ•°å­—é”®æ˜¯ä¸å¯ç”¨çš„ï¼Œå¦‚æœä¸å°å¿ƒæŒ‰äº†å°é”®ç›˜çš„æ•°å­—é”®è¿›å…¥äº†å¥‡æ€ªçš„æ¨¡å¼ï¼ŒæŒ‰ä¸‹Ctrl+Cå³å¯å–æ¶ˆï¼Œç„¶åæ¥ç€è¾“å…¥å³å¯&lt;/span>
&lt;span style="color:#75715e"># è¾“å…¥å®Œæˆåï¼ŒæŒ‰ä¸‹Ctrl+Oï¼Œç„¶åå›è½¦ä¿å­˜ï¼Œç„¶åCtrl+Xé€€å‡º&lt;/span>
&lt;span style="color:#75715e"># ç„¶åé‡å¯Snapåå°è¿›ç¨‹&lt;/span>
$ systemctl daemon-reload
$ systemctl restart snapd
&lt;/code>&lt;/pre>&lt;/div>&lt;p>åŒæ ·åœ°ï¼Œä½¿ç”¨&lt;code>snap install&lt;/code>å®‰è£…ä»»æ„ä¸€ä¸ªåŒ…ï¼Œ å¯¹ç…§ä»£ç†è½¯ä»¶çš„æµé‡ç›‘æ§ï¼ŒæŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸã€‚&lt;/p>
&lt;h2 id="gitä»£ç†é…ç½®">Gitä»£ç†é…ç½®&lt;/h2>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">git config --global http.proxy http://PROXY_IP:1080
git config --global https.proxy http://PROXY_IP:1080
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ubuntuç³»ç»Ÿå±‚é¢çš„httpä»£ç†">Ubuntuç³»ç»Ÿå±‚é¢çš„HTTPä»£ç†&lt;/h2>
&lt;p>ä½¿ç”¨Ubuntuæ—¶ï¼Œè‚¯å®šè¿˜ä¼šæœ‰è®¿é—®ä¸€äº›ç½‘é¡µçš„éœ€æ±‚ï¼Œä¾‹å¦‚Googleï¼Œå› æ­¤è¿˜éœ€è¦ç»™Ubuntué…ç½®ä¸€ä¸‹ç³»ç»Ÿå…¨å±€ä»£ç†ï¼Œè¿™æ ·æ‰èƒ½è®©æµè§ˆå™¨çš„HTTPå’ŒHTTPSè¯·æ±‚èµ°ä»£ç†ã€‚&lt;/p>
&lt;p>è¿™ä¸€æ­¥ä½¿ç”¨å›¾å½¢ç•Œé¢æˆ–è€…å‘½ä»¤è¡Œéƒ½å¯ä»¥åšï¼Œè¿™é‡Œå„è‡ªè¯´ä¸€ä¸‹ã€‚&lt;/p>
&lt;h3 id="å›¾å½¢ç•Œé¢">å›¾å½¢ç•Œé¢&lt;/h3>
&lt;p>æ‰“å¼€ã€Œè®¾ç½®/Settingsã€â¡ã€Œç½‘ç»œ/Networkã€â¡ã€Œä»£ç†/Network Proxyã€ï¼ŒæŒ‰ç…§ä¸‹å›¾æ‰€ç¤ºè¿›è¡Œè¾“å…¥ï¼Œè®°å¾—å°†&lt;code>PROXY_IP&lt;/code>æ›¿æ¢ä¸ºå®¿ä¸»æœºçš„IPï¼š&lt;/p>
&lt;figure>
&lt;img src="https://image-hosting-1251771285.cos.ap-guangzhou.myqcloud.com/20191002133051.png"/>
&lt;/figure>
&lt;p>å…¶ä¸­&lt;code>Ignore Hosts&lt;/code>ä¸­å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼Œä½¿å±€åŸŸç½‘IPç»•è¿‡ä»£ç†ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">localhost, 127.0.0.0/8, ::1, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16,
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¡«å¥½ä¹‹åç›´æ¥å…³é—­å³å¯ï¼Œå¯æ‰“å¼€Firefoxæˆ–è€…Chromeæµè§ˆå™¨è®¿é—®Googleè¿›è¡Œæµ‹è¯•ã€‚&lt;/p>
&lt;h3 id="å‘½ä»¤è¡Œ">å‘½ä»¤è¡Œ&lt;/h3>
&lt;blockquote>
&lt;p>å‚è€ƒï¼š&lt;a href="https://kifarunix.com/how-to-set-system-wide-proxy-in-ubuntu-18-04/">How to Set System Wide Proxy in Ubuntu 18.04&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨å‘½ä»¤è¡Œä¸‹ï¼Œé€šå¸¸æ˜¯é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡æ¥é…ç½®ä»£ç†ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">export http_proxy&lt;span style="color:#f92672">=&lt;/span>http://PROXY_IP:1080
export https_proxy&lt;span style="color:#f92672">=&lt;/span>http://PROXY_IP:1080
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½†æ˜¯è¿™ç§æ–¹å¼åªä¼šåœ¨å½“å‰ä¼šè¯ä¸­èµ·ä½œç”¨ï¼Œå¦‚æœä½ æ˜¯é€šè¿‡XShellè¿æ¥çš„Ubuntuï¼Œæˆ–è€…æ‰“å¼€äº†ä¸€ä¸ªBashç»ˆç«¯ï¼Œé‚£ä¹ˆå…³é—­ä¼šè¯/å…³é—­ç»ˆç«¯åè¯¥ç¯å¢ƒå˜é‡å°±ä¼šå¤±æ•ˆã€‚&lt;/p>
&lt;p>å¦‚æœä½ æƒ³ä¸ºç³»ç»Ÿæ°¸ä¹…é…ç½®ä»£ç†ï¼Œåˆ™éœ€è¦è¿›ä¸€æ­¥ç¼–è¾‘é…ç½®æ–‡ä»¶ã€‚ç„¶è€Œè¿™é‡Œä¹Ÿæœ‰ä¸¤ç§ç­–ç•¥ï¼š&lt;/p>
&lt;ul>
&lt;li>åªä¸ºå½“å‰ç”¨æˆ·é…ç½®ä»£ç†&lt;/li>
&lt;li>ä¸ºç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·é…ç½®ä»£ç†ï¼ˆåŒ…æ‹¬rootï¼‰&lt;/li>
&lt;/ul>
&lt;h4 id="åªä¸ºå½“å‰ç”¨æˆ·é…ç½®ä»£ç†">åªä¸ºå½“å‰ç”¨æˆ·é…ç½®ä»£ç†&lt;/h4>
&lt;p>åšæ³•æ˜¯ä¿®æ”¹å½“å‰ç”¨æˆ·çš„.bashrcï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ cd
&lt;span style="color:#75715e"># ç¡®ä¿ä½äºå½“å‰ç”¨æˆ·çš„homeç›®å½•ä¸‹&lt;/span>
&lt;span style="color:#75715e"># å°†ä¸¤è¡Œå‘½ä»¤å†™å…¥.bashrcæ–‡ä»¶å†…&lt;/span>
$ echo -e &lt;span style="color:#e6db74">&amp;#34;export http_proxy=http://PROXY_IP:1080/\nexport https_proxy=https://PROXY_IP:1080/&amp;#34;&lt;/span> | tee -a .bashrc
&lt;span style="color:#75715e"># è¯¥å‘½ä»¤ä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œé‡å¯shellæ‰èƒ½ç”Ÿæ•ˆï¼›è¦ä½¿å®ƒç«‹å³ç”Ÿæ•ˆï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/span>
$ source .bashrc
&lt;span style="color:#75715e"># è¾“å…¥ä»¥ä¸‹å‘½ä»¤æµ‹è¯•æ˜¯å¦æˆåŠŸï¼š&lt;/span>
$ wget google.com
--2019-10-01 22:39:42-- http://google.com/
Connecting to 172.16.171.22:1080... connected.
Proxy request sent, awaiting response... &lt;span style="color:#ae81ff">301&lt;/span> Moved Permanently
Location: http://www.google.com/ &lt;span style="color:#f92672">[&lt;/span>following&lt;span style="color:#f92672">]&lt;/span>
--2019-10-01 22:39:43-- http://www.google.com/
Connecting to 172.16.171.22:1080... connected.
Proxy request sent, awaiting response... &lt;span style="color:#ae81ff">200&lt;/span> OK
Length: unspecified &lt;span style="color:#f92672">[&lt;/span>text/html&lt;span style="color:#f92672">]&lt;/span>
Saving to: â€˜index.htmlâ€™
index.html &lt;span style="color:#f92672">[&lt;/span> &amp;lt;&lt;span style="color:#f92672">=&lt;/span>&amp;gt; &lt;span style="color:#f92672">]&lt;/span> 11.47K --.-KB/s in 0s
2019-10-01 22:39:43 &lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#ae81ff">233&lt;/span> MB/s&lt;span style="color:#f92672">)&lt;/span> - â€˜index.htmlâ€™ saved &lt;span style="color:#f92672">[&lt;/span>11746&lt;span style="color:#f92672">]&lt;/span>
&lt;span style="color:#75715e"># å‡ºç°ç±»ä¼¼ä»¥ä¸Šçš„ä¿¡æ¯å³è¯´æ˜é…ç½®æˆåŠŸ&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="ä¸ºç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·é…ç½®ä»£ç†">ä¸ºç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·é…ç½®ä»£ç†&lt;/h4>
&lt;p>å¦‚æœä½ å°è¯•äº†åˆšåˆšè¯´çš„æ–¹æ³•ï¼Œä¼šå‘ç°åœ¨å½“å‰çš„æ™®é€šç”¨æˆ·ä¸‹çš„ç½‘ç»œè®¿é—®æ˜¯å¯ä»¥èµ°ä»£ç†çš„ï¼Œä½†æ˜¯å¦‚æœåˆ‡æ¢åˆ°&lt;code>root&lt;/code>è´¦å·ï¼Œå†æ‰§è¡Œ&lt;code>wget google.com&lt;/code>ï¼Œå°±ä¼šå‘ç°è¿æ¥ä¸ä¸Šï¼Œè¿™æ˜¯å› ä¸ºåˆšåˆšä¿®æ”¹çš„&lt;code>.bashrc&lt;/code>æ–‡ä»¶æ˜¯å±äºé‚£ä¸ªæ™®é€šè´¦æˆ·çš„ï¼Œä¹Ÿåªä¼šå¯¹é‚£ä¸ªæ™®é€šç”¨æˆ·çš„bashå‘½ä»¤è¡Œèµ·ä½œç”¨ï¼Œå…¶ä»–ç”¨æˆ·çš„ç½‘ç»œè®¿é—®åˆ™ä¸èµ°ä»£ç†ã€‚&lt;/p>
&lt;p>æƒ³è¦ä¸€æ¬¡æ€§ä¸ºç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·é…ç½®ä»£ç†ï¼Œéœ€è¦ä¿®æ”¹&lt;code>/etc/environment&lt;/code>æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-shell" data-lang="shell">$ echo -e &lt;span style="color:#e6db74">&amp;#34;http_proxy=http://PROXY_IP:1080/\nhttps_proxy=https://PROXY_IP:1080/&amp;#34;&lt;/span> | sudo tee -a /etc/environment
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™ç§é…ç½®æ–¹æ³•åœ¨é‡æ–°ç™»å½•åæ‰ä¼šç”Ÿæ•ˆã€‚&lt;/p>
- https://www.libre.fun/posts/vmware-ubuntu-proxy-configure/ - Libre. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</description></item><item><title>CentOS 7.6 Minimal Installation åæ— æ³•è¿æ¥ç½‘ç»œ</title><link>https://www.libre.fun/posts/fix-network-connection-of-centos-with-mininal-installation/</link><pubDate>Sat, 05 Oct 2019 12:53:00 +0800</pubDate><guid>https://www.libre.fun/posts/fix-network-connection-of-centos-with-mininal-installation/</guid><description>Libre's Blog https://www.libre.fun/posts/fix-network-connection-of-centos-with-mininal-installation/ -&lt;h2 id="é—®é¢˜åŸå› ">é—®é¢˜åŸå› &lt;/h2>
&lt;p>åœ¨å®‰è£…CentOS 7.6ç³»ç»Ÿæ—¶ï¼Œå›¾å½¢å®‰è£…ç•Œé¢çš„éƒ¨åˆ†æœ‰ä¸€ä¸ªé…ç½®ç½‘ç»œçš„é€‰é¡¹ï¼Œè¿›å»ä¹‹åå¯ä»¥å¼€å¯ç½‘å¡ï¼Œè€ŒMinimal Installationé»˜è®¤æ˜¯ä¸å¼€å¯ç½‘å¡çš„ï¼Œå› æ­¤å¦‚æœåœ¨å®‰è£…ç³»ç»Ÿæ—¶ç”±äºç–å¿½å¿˜è®°æ‰“å¼€ç½‘å¡ï¼Œè¿›å…¥ç³»ç»Ÿä¹‹åä¼šå‘ç°æ— æ³•è”ç½‘ï¼Œæ‰€æœ‰å’Œç½‘ç»œæœ‰å…³çš„æ“ä½œéƒ½ä¼šæŠ¥é”™ã€‚&lt;/p>
&lt;h2 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•&lt;/h2>
&lt;p>é¦–å…ˆé€šè¿‡å‘½ä»¤&lt;code>nmcli d&lt;/code>æŸ¥çœ‹ç½‘å¡å¯ç”¨çŠ¶æ€ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#f92672">[&lt;/span>libre@localhost ~&lt;span style="color:#f92672">]&lt;/span>$ nmcli d
DEVICE TYPE STATE CONNECTION
ens33 ethernet disconnected --
lo loopback unmanaged --
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‘ç°ç½‘å¡çš„ç¡®æ˜¯æœªå¯ç”¨ã€‚ç„¶åç¼–è¾‘æ–‡ä»¶&lt;code>/etc/sysconfig/network-scripts/ifcfg-ens&amp;lt;num&amp;gt;&lt;/code>ï¼Œæ­¤å¤„çš„&lt;code>&amp;lt;num&amp;gt;&lt;/code>åœ¨æ¯å°æœºå™¨å¯èƒ½ä¸ä¸€æ ·ï¼Œä½¿ç”¨Tabè‡ªåŠ¨è¡¥å…¨å³å¯ã€‚&lt;/p>
&lt;p>å°†è¯¥æ–‡ä»¶æœ€åä¸€è¡Œçš„&lt;code>ONBOOT=NO&lt;/code>æ”¹ä¸º&lt;code>ONBOOT=YES&lt;/code>ï¼Œç„¶åä¿å­˜é€€å‡ºï¼Œå†é€šè¿‡ä»¥ä¸‹å‘½ä»¤é‡å¯ç½‘ç»œï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">service network restart
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ­¤æ—¶å†æŸ¥çœ‹ç½‘å¡çŠ¶æ€ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#f92672">[&lt;/span>libre@localhost ~&lt;span style="color:#f92672">]&lt;/span>$ nmcli d
DEVICE TYPE STATE CONNECTION
ens33 ethernet connected ens33
lo loopback unmanaged --
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æå®šã€‚&lt;/p>
- https://www.libre.fun/posts/fix-network-connection-of-centos-with-mininal-installation/ - Libre. æœ¬ç«™éµå¾ª CC-BY-NC 4.0 åè®®</description></item></channel></rss>